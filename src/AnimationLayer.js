var AnimationLayer=cc.Layer.extend({backgroundLayer:null,currentPosition:0,spriteSheet:null,loseSpriteSheet:null,current_bets:null,betPosition:0,cashSpriteSheet:null,pedroAnimationAction:null,spawnPlayerAction:null,seconds:null,sprite:null,ctor:function(){this._super(),this.init()},init:function(){this._super(),this.backgroundLayer=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),this.current_bets=0;var a=this,b=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"spawn_player_event",callback:function(b){var c=b.getUserData();a.spawnPlayer(c),a.updatePlayerData(c)}});cc.eventManager.addListener(b,1);var c=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"remove_player_event",callback:function(b){var c=b.getUserData();a.removePlayer(c)}});cc.eventManager.addListener(c,1),cc.director.getRunningScene().getChildByTag(TagOfLayer.background);var e=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_player_winning",callback:function(b){var c=b.getUserData();a.animatePlayerWin(c)}});cc.eventManager.addListener(e,1);var f=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_animate_player_lose",callback:function(b){var c=b.getUserData();a.animatePlayerLoseRandom(c)}});cc.eventManager.addListener(f,1);var g=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_player_losing_a",callback:function(b){var c=b.getUserData();a.animatePlayerLoseA(c)}});cc.eventManager.addListener(g,1);var h=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_player_losing_b",callback:function(b){var c=b.getUserData();a.animatePlayerLoseB(c)}});cc.eventManager.addListener(h,1);var i=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_player_waiting_random",callback:function(b){var c=b.getUserData();a.animatePlayerWaitRandom(c)}});cc.eventManager.addListener(i,1);var j=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_player_waiting_a",callback:function(b){var c=b.getUserData();a.animatePlayerWaitA(c)}});cc.eventManager.addListener(j,1);var k=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_player_waiting_b",callback:function(b){var c=b.getUserData();a.animatePlayerWaitB(c)}});cc.eventManager.addListener(k,1);var l=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_animate_betting",callback:function(b){var c=b.getUserData();a.animateBetting(c)}});cc.eventManager.addListener(l,1);var m=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_animate_you_win",callback:function(b){var c=b.getUserData();a.animateYouWin(c)}});cc.eventManager.addListener(m,1);var n=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_animate_player_receiving_bets",callback:function(b){var c=b.getUserData();a.animateGettingAllBets(c)}});cc.eventManager.addListener(n,1);var o=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_activate_player",callback:function(b){var c=b.getUserData();a.activatePlayer(c)}});cc.eventManager.addListener(o,1);var p=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_set_player_data",callback:function(b){var c=b.getUserData();a.updatePlayerData(c)}});cc.eventManager.addListener(p,1);var q=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_animate_circle_label",callback:function(b){var c=b.getUserData();a.animateCircleText(c)}});cc.eventManager.addListener(q,1);var r=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_display_popup_win_self",callback:function(b){var c=b.getUserData();a.animatePopUpWinSelf(c)}});cc.eventManager.addListener(r,1);var s=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_display_popup_win_others",callback:function(b){var c=b.getUserData();a.animatePopUpWinOthers(c)}});cc.eventManager.addListener(s,1);var t=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_deactivate_all_players",callback:function(b){var c=b.getUserData();a.deActivateAll(c)}});cc.eventManager.addListener(t,1);var u=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_spawn_and_update_the_pot_flag",callback:function(b){var c=b.getUserData();a.spawnAndUpdateThePotFlag(c)}});cc.eventManager.addListener(u,1);var v=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_remove_the_pot_flag",callback:function(b){var c=b.getUserData();a.removeThePotFlag(c)}});cc.eventManager.addListener(v,1);var w=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_big_winning_animation",callback:function(b){var c=b.getUserData();a.playBigWinningAnimation(c)}});cc.eventManager.addListener(w,1);var x=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:"event_generic_animation_referee",callback:function(b){var c=b.getUserData();a.playGenericAnimation(c)}});cc.eventManager.addListener(x,1)},spawnPlayer:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c=positionInformations[a.playerNumber];c.x,c.y;var f=c.zIndex,g="res/animations/player"+a.playerModel+".plist",h="res/animations/player"+a.playerModel+".png";cc.spriteFrameCache.addSpriteFrames(g);var i=this.loseSpriteSheet=new cc.SpriteBatchNode(h),j="player_"+a.playerNumber;new Player(i,c,a.playerModel),b.addChild(this.loseSpriteSheet,f,j)},removePlayer:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background);positionInformations[a.playerNumber];var d="player_"+a.playerNumber,e=b.getChildByName(d);e?e.removeFromParent(1):cc.log("Some strange error when trying to remove player "+a.playerNumber);var f=b.getChildByName("player_"+a.playerNumber+"_nameLabel"),g=b.getChildByName("player_"+a.playerNumber+"_ammountLabel");f&&f.removeFromParent(1),g&&g.removeFromParent(1)},updatePlayerData:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background);positionInformations[a.playerNumber];var d="player_"+a.playerNumber,e=b.getChildByName(d),f=e._children,g=f[1],h=b.getChildByName("player_"+a.playerNumber+"_nameLabel"),i=b.getChildByName("player_"+a.playerNumber+"_ammountLabel");if(i)i.setString("\xa3 "+a.amount),h&&h.setString(a.name);else{var j=g.getPosition().x,k=g.getPosition().y,l=new cc.LabelTTF.create(a.name,"MontserratBold",16);l.setColor(cc.color(255,255,255)),l.setAnchorPoint(.5,.5),400>k?l.setPosition(cc.p(j,k+10)):l.setPosition(cc.p(j,k+10)),b.addChild(l,500,"player_"+a.playerNumber+"_nameLabel");var m=new cc.LabelTTF.create("\xa3 "+a.amount,"MontserratRegular",16);m.setColor(cc.color(255,255,255)),m.setAnchorPoint(.5,.5),400>k?m.setPosition(cc.p(j,k-8)):m.setPosition(cc.p(j,k-8)),b.addChild(m,500,"player_"+a.playerNumber+"_ammountLabel")}},animatePlayerWin:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c="player_"+a.playerNumber,d=b.getChildByName(c),e=d._children[0],f=positionInformations[a.playerNumber];e.setPosition(f.x-19,f.y+13);for(var g=[],h=1;10>h;h++){var i="_000"+h+"_"+a.playerModel+"win"+(h+1)+".png.png",j=cc.spriteFrameCache.getSpriteFrame(i);g.push(j)}for(var h=10;37>h;h++){var k="_00"+h+"_"+a.playerModel+"win"+(h+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);g.push(l)}var m=new cc.Animation(g,a.animationLength/g.length),n=new cc.Repeat(new cc.Animate(m),1);e.runAction(n,1)},animatePlayerLoseA:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c="player_"+a.playerNumber,d=b.getChildByName(c),e=d._children[0],f=positionInformations[a.playerNumber];e.setPosition(f.x,f.y);for(var g=[],h=1;10>h;h++){var i="_000"+h+"_"+a.playerModel+"loseA"+(h+1)+".png.png",j=cc.spriteFrameCache.getSpriteFrame(i);g.push(j)}for(var h=10;60>h;h++){var k="_00"+h+"_"+a.playerModel+"loseA"+(h+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);g.push(l)}var m=new cc.Animation(g,a.animationLength/g.length),n=new cc.Repeat(new cc.Animate(m),1);e.runAction(n,1)},animatePlayerLoseRandom:function(a){var b=1,c=Math.floor(10*Math.random()+1);b=0==c%2?2:1;var d=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),e="player_"+a.playerNumber,f=d.getChildByName(e),g=f._children[0],h=positionInformations[a.playerNumber];g.setPosition(h.x,h.y);var i=[];if(1==b){for(var j=1;10>j;j++){var k="_000"+j+"_"+a.playerModel+"loseA"+(j+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);i.push(l)}for(var j=10;60>j;j++){var m="_00"+j+"_"+a.playerModel+"loseA"+(j+1)+".png.png",n=cc.spriteFrameCache.getSpriteFrame(m);i.push(n)}}else{for(var j=1;10>j;j++){var k="_000"+j+"_"+a.playerModel+"loseB"+(j+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);i.push(l)}for(var j=10;88>j;j++){var m="_00"+j+"_"+a.playerModel+"loseB"+(j+1)+".png.png",n=cc.spriteFrameCache.getSpriteFrame(m);i.push(n)}}var o=new cc.Animation(i,a.animationLength/i.length),p=new cc.Repeat(new cc.Animate(o),1);g.runAction(p,1)},animatePlayerLoseB:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c="player_"+a.playerNumber,d=b.getChildByName(c),e=d._children[0],f=positionInformations[a.playerNumber];e.setPosition(f.x,f.y);for(var g=[],h=1;10>h;h++){var i="_000"+h+"_"+a.playerModel+"loseB"+(h+1)+".png.png",j=cc.spriteFrameCache.getSpriteFrame(i);g.push(j)}for(var h=10;88>h;h++){var k="_00"+h+"_"+a.playerModel+"loseB"+(h+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);g.push(l)}var m=new cc.Animation(g,a.animationLength/g.length),n=new cc.Repeat(new cc.Animate(m),1);e.runAction(n,1)},animatePlayerWaitRandom:function(a){var b=1,c=Math.floor(10*Math.random()+1);b=0==c%2?2:1;var d=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),e="player_"+a.playerNumber,f=d.getChildByName(e),g=f._children[0],h=positionInformations[a.playerNumber];g.setPosition(h.x,h.y);var i=[];if(1==b){for(var j=1;10>j;j++){var k="_000"+j+"_"+a.playerModel+"waitA"+(j+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);i.push(l)}for(var j=10;84>j;j++){var m="_00"+j+"_"+a.playerModel+"waitA"+(j+1)+".png.png",n=cc.spriteFrameCache.getSpriteFrame(m);i.push(n)}}else{for(var j=1;10>j;j++){var k="_000"+j+"_"+a.playerModel+"waitB"+(j+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);i.push(l)}for(var j=10;99>j;j++){var m="_00"+j+"_"+a.playerModel+"waitB"+(j+1)+".png.png",n=cc.spriteFrameCache.getSpriteFrame(m);i.push(n)}}var o=new cc.Animation(i,a.animationLength/i.length),p=new cc.Repeat(new cc.Animate(o),1);g.runAction(p,1)},animatePlayerWaitA:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c="player_"+a.playerNumber,d=b.getChildByName(c),e=d._children[0],f=positionInformations[a.playerNumber];e.setPosition(f.x,f.y);for(var g=[],h=1;10>h;h++){var i="_000"+h+"_"+a.playerModel+"waitA"+(h+1)+".png.png",j=cc.spriteFrameCache.getSpriteFrame(i);g.push(j)}for(var h=10;84>h;h++){var k="_00"+h+"_"+a.playerModel+"waitA"+(h+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);g.push(l)}var m=new cc.Animation(g,a.animationLength/g.length),n=new cc.Repeat(new cc.Animate(m),1);e.runAction(n,1)},animatePlayerWaitB:function(a){var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c="player_"+a.playerNumber,d=b.getChildByName(c),e=d._children[0],f=positionInformations[a.playerNumber];e.setPosition(f.x,f.y);for(var g=[],h=1;10>h;h++){var i="_000"+h+"_"+a.playerModel+"waitB"+(h+1)+".png.png",j=cc.spriteFrameCache.getSpriteFrame(i);g.push(j)}for(var h=10;99>h;h++){var k="_00"+h+"_"+a.playerModel+"waitB"+(h+1)+".png.png",l=cc.spriteFrameCache.getSpriteFrame(k);g.push(l)}var m=new cc.Animation(g,a.animationLength/g.length),n=new cc.Repeat(new cc.Animate(m),1);e.runAction(n,1)},animateBetting:function(a){var b=this.backgroundLayer;this.current_bets;var d=cc.director.getWinSize(),e=positionInformations[a.playerNumber];e.x,e.y,e.zIndex,new cc.SpriteBatchNode(res.UI_Cash),"bet_player_"+a.playerNumber,this.cashSpriteSheet=new cc.Sprite.create(res.UI_Cash),this.cashSpriteSheet.setPosition(positionInformations[a.playerNumber].x,positionInformations[a.playerNumber].y),this.cashSpriteSheet.setScale(.1),b.addChild(this.cashSpriteSheet,100,"bet"+this.current_bets),this.current_bets++;var k=new cc.RotateBy.create(1.5,180),l=new cc.ScaleTo.create(1.5,1);if(this.betPosition<=10)var m=new cc.MoveTo.create(1.5,cc.p(d.width/2,d.height/2+14+2*this.betPosition));else var m=new cc.MoveTo.create(1.5,cc.p(d.width/2,d.height/2+34));this.betPosition++,this.cashSpriteSheet.runAction(l,1),this.cashSpriteSheet.runAction(m,1),this.cashSpriteSheet.runAction(k,1)},animateGettingAllBets:function(a){var b=this.backgroundLayer;if(this.current_bets>0){var c=[],d=positionInformations[a.playerNumber];for(d.x,d.y,d.zIndex,i=0;i<this.current_bets;i++){var h=b.getChildByName("bet"+i);h&&c.push(h)}var j=Math.floor(3*Math.random())+1,k=[],l=[];for(i=0;i<this.current_bets;i++){var m=Math.floor(3*Math.random())+1,n=Math.floor(2*Math.random())+1;k[i]=new cc.MoveTo.create(m,cc.p(d.x+j,d.y-j)),l[i]=new cc.FadeOut(n)}var o=[];for(i=0;i<this.current_bets;i++)o[i]=cc.Sequence.create(k[i],l[i]),c[i].runAction(o[i],1);var p=this.current_bets;setTimeout(function(){for(i=0;p>i;i++)c[i].removeFromParent(1)},3500),this.current_bets=0}else cc.log("THERE WERE NO BETS ON THE TABLE!")},activatePlayer:function(a){function j(d){new cc.TintTo.create(1,85,250,250),f=d._children[0],f.setOpacity(255);var i=new cc.Sprite.create(res.P_overHead);i.setPosition(c.x,c.y+110);var j="Player"+a.playerNumber+"_overHead",k=b.getChildByName(j);k||(b.addChild(i,1e3,"Player"+a.playerNumber+"_overHead"),b.getChildByName("player_"+a.playerNumber));var m=d._children[1],n=m.getPosition(),o=new cc.Sprite.create(res.P_popupOverGreen);a.playerNumber<4?o.setPosition(n):(o.setRotation(180),o.setPosition(n.x,n.y)),m.removeFromParent(1);var p=positionInformations[a.playerNumber];d.addChild(o,p.Zindex,p.defaultName+"_popupGreen")}function k(d){function r(a){var e=d.getChildByName(a);if(e&&m._name==a){var f=m.getPosition(),g=m.getParent();m.removeFromParent(1);var h=new cc.Sprite.create(res.P_popupOverGrey);f.y<500&&h.setRotation(180),h.setPosition(f),g.addChild(h,1600,"asdfds")}}positionInformations[a.playerNumber];var j=c;for(f=d._children[0],f.setOpacity(200),i=0;10>i;i++){var k="Player"+i+"_overHead",l=b.getChildByName(k);l&&l.removeFromParent(1)}var m=d._children[1],n=j.defaultName+"_popupGreen",o=[];for(i=1;10>=i;i++){var p="Player"+i+"_popupGreen";o.push(p)}var q=_.without(o,n);q.forEach(r)}var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c=positionInformations[a.playerNumber],d=[],e=[];for(i=0;10>i;i++)if(i!=a.playerNumber){var f="player_"+i,g=b.getChildByName(f);g&&d.push(g)}else{var h="player_"+i,g=b.getChildByName(h);g&&e.push(g)}d.forEach(k),e.forEach(j)},deActivateAll:function(){function f(a){for(new cc.TintTo.create(1,85,85,85),d=a._children[0],d.setOpacity(255),i=0;10>i;i++){var g="Player"+i+"_overHead",h=b.getChildByName(g);h&&h.removeFromParent(1);var j="Player"+(i+1)+"_popupGreen",k=a.getChildByName(j);if(k){var l=k.getPosition(),m=k.getParent();k.removeFromParent(1);var n=new cc.Sprite.create(res.P_popupOverGrey);l.y<500&&n.setRotation(180);var o="Player"+(i+1)+"_popup";n.setPosition(l),m.addChild(n,1600,o)}}}var b=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),c=[];for(i=0;10>i;i++){var d="player_"+i,e=b.getChildByName(d);e&&c.push(e)}c.forEach(f)},spawnAndUpdateThePotFlag:function(a){"undefined"==typeof a&&(a={potAmount:"potAmount"});var b=cc.director.getWinSize(),c=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),d=c.getChildByName("ThePotSprite");if(!d){var e=new cc.Sprite(res.ThePotFlag);e.setPosition(cc.p(b.width/2,b.height/2-e.height/2+5)),e.setOpacity(0),c.addChild(e,1560,"ThePotSprite");var f=new cc.FadeIn.create(1);e.runAction(f,1)}var g=c.getChildByName("ThePotAmountLabel");if(g)g.setString("\xa3"+a.potAmount);else{var h=new cc.LabelTTF.create("\xa3"+a.potAmount,"MontserratBold",40);h.setColor(new cc.Color(255,255,0,255)),h.setPosition(cc.p(b.width/2,b.height/2-e.height)),c.addChild(h,1560,"ThePotAmountLabel")}},removeThePotFlag:function(){var a=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),b=a.getChildByName("ThePotSprite");b&&b.removeFromParent(1);var c=a.getChildByName("ThePotAmountLabel");c&&c.removeFromParent(1)},playBigWinningAnimation:function(a){function rb(a){var d=cc.delayTime(3.2),e=new cc.FadeOut.create(.5),f=new cc.Sequence.create(d,e);a.runAction(f)}function sb(a){setTimeout(function(){a.removeFromParent(1)},5e3)}if("undefined"==typeof a){cc.log("You did not provide correct details for the data object");var a={playerName:"data.playerName",amount:"amount_here",winner:!1}}var b=cc.director.getWinSize(),c=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),d=cc.p(b.width/2,b.height/2),e=[],f=new cc.Sprite(res.BP_Transparency);f.setPosition(d),f.setScale(.8),f.setOpacity(255);var g=new cc.ScaleTo(.4,.9),h=new cc.ScaleTo(.4,.7),i=new cc.Sequence.create(g,h),j=new cc.Repeat(i,4);f.runAction(j),c.addChild(f,1690,"TransparentBg"),e.push(f);var k=new cc.Sprite(res.BP_RedBg);k.setPosition(d),k.setScale(.01);var l=new cc.ScaleTo(.1,1);k.runAction(l),c.addChild(k,1700,"BgRed"),e.push(k);var m=new cc.Sprite(res.BP_PlayerBody);m.setPosition(cc.p(b.width/2+8,b.height/2-54)),m.setScale(.05);var n=new cc.ScaleTo(.2,1);m.runAction(n),c.addChild(m,1710,"PlayerBody"),e.push(m);var o=new cc.Sprite(res.BP_PlayerHand);o.setPosition(cc.p(b.width/2-130,b.height/2-60)),o.setScale(1);var p=new cc.delayTime(1.2),q=new cc.ScaleTo(.2,1.8),r=new cc.ScaleTo(.2,1),s=new cc.Sequence.create(p,q,r);if(o.runAction(s),c.addChild(o,1720,"PlayerHand"),e.push(o),0==a.winner)var t=new cc.Sprite(res.BP_WinsText);else{var t=new cc.Sprite(res.BP_YouWinText);a.playerName="Congratulations!"}t.setPosition(cc.p(b.width/2,b.height/2)),t.setScale(.05);var u=new cc.ScaleTo(.1,1),v=new cc.MoveTo(.1,cc.p(b.width/2,100)),w=new cc.DelayTime(.1),x=new cc.Sequence.create(w,u,v);t.runAction(x),c.addChild(t,1730,"WinsFlag"),e.push(t);var y=new cc.Sprite(res.BP_Ball);y.setPosition(cc.p(b.width/2-220,b.height/2+70)),y.setScale(0);var z=new cc.RotateBy(2,359),A=new cc.ScaleTo(.05,1),B=new cc.DelayTime(.5),C=new cc.Sequence.create(B,A,z);y.runAction(C),c.addChild(y,1740,"Ball1"),e.push(y);var D=new cc.Sprite(res.BP_Ball);D.setPosition(cc.p(b.width/2+230,b.height/2-20)),D.setScale(0);var E=new cc.RotateBy(2,359),F=new cc.ScaleTo(.05,.7),G=new cc.DelayTime(.5),H=new cc.Sequence.create(G,F,E);D.runAction(H),c.addChild(D,1740,"Ball2"),e.push(D);var I=new cc.Sprite(res.BP_Ball);I.setPosition(cc.p(b.width/2+200,b.height/2+130)),I.setScale(0);var J=new cc.RotateBy(2,-359),K=new cc.ScaleTo(.05,.6),L=new cc.DelayTime(.5),M=new cc.Sequence.create(L,K,J);I.runAction(M),c.addChild(I,1740,"Ball3"),e.push(I);var N=new cc.Sprite(res.BP_Trophy);N.setPosition(cc.p(b.width/2,b.height/2+260)),N.setScale(0);var O=new cc.ScaleTo(.2,1),P=new cc.ScaleTo(.1,.8),Q=new cc.DelayTime(1),R=new cc.Sequence.create(Q,O,P);N.runAction(R),c.addChild(N,1750,"Trophy"),e.push(N);var S=.7,T=new cc.Sprite(res.BP_Face1);T.setPosition(cc.p(b.width/2+10,b.height/2-20)),T.setOpacity(255);var U=new cc.FadeIn.create(.01),V=new cc.FadeOut.create(.01),W=new cc.DelayTime(S),X=new cc.Sequence.create(W,W,V,W,U);T.runAction(X),c.addChild(T,1750,"Face1"),e.push(T);var Y=new cc.Sprite(res.BP_Face2);Y.setPosition(cc.p(b.width/2+10,b.height/2-20)),Y.setOpacity(0);var Z=new cc.FadeIn.create(.01),$=new cc.FadeOut.create(.01),_=new cc.DelayTime(S);new cc.FadeIn.create(.05);var bb=new cc.Sequence.create(_,_,Z,_,$);Y.runAction(bb),c.addChild(Y,1760,"Face2"),e.push(Y);var cb=new cc.Sprite(res.BP_BlackBox);cb.setPosition(cc.p(b.width/2,b.height/2-180)),cb.setOpacity(0);var db=new cc.DelayTime.create(.3),eb=new cc.DelayTime.create(1.5),fb=new cc.FadeIn.create(.5),gb=new cc.MoveTo.create(.5,b.width/2,b.height/2-240),hb=new cc.MoveTo.create(.5,b.width/2,b.height/2-180),ib=new cc.Sequence.create(fb,db,gb,eb,hb);cb.runAction(ib),c.addChild(cb,1711,"BlackBox"),e.push(cb),null==a.playerName&&(a.playerName="UnnamedPlayer");var jb=20;jb=a.playerName.length<=6?40:a.playerName.length>6&&a.playerName.length<=11?30:a.playerName.length>11&&a.playerName.length<=13?26:a.playerName.length>13&&a.playerName.length<=16?22:a.playerName.length>16&&a.playerName.length<=18?18:16,"Congratulations!"===a.playerName&&(cc.log("size is 32"),jb=32);var kb=new cc.LabelTTF.create(a.playerName,"MontserratBold",jb);kb.setPosition(cc.p(b.width/2,480)),c.addChild(kb,1715,"PlayerNameLabel"),e.push(kb);var lb=new cc.LabelTTF.create("\xa3 "+a.amount,"MontserratBold",38);lb.setOpacity(0),lb.setPosition(cc.p(b.width/2,80));var mb=new cc.FadeIn.create(0),nb=new cc.FadeOut.create(.2),ob=new cc.DelayTime(1.1);new cc.DelayTime(1.5);var qb=new cc.Sequence.create(ob,mb,ob,nb);lb.runAction(qb,1),c.addChild(lb,1760,"WinAmountLabel"),e.push(lb),e.forEach(rb),e.forEach(sb)},playGenericAnimation:function(a){function B(a){var d=cc.delayTime(3.2),e=new cc.FadeOut.create(.5),f=new cc.Sequence.create(d,e);a.runAction(f)}function C(a){setTimeout(function(){a.removeFromParent(1)},5e3)}if("undefined"==typeof a){cc.log("You did not provide correct details for the data object");var a={messageTitle:"data.messageTitle",messageLine1:"line 1 content",messageLine2:"line 2 content",referee:1}}if(null==a.referee){var b=Math.floor(3*Math.random()+1);a.referee=b}var c=cc.director.getWinSize(),d=cc.director.getRunningScene().getChildByTag(TagOfLayer.background),e=cc.p(c.width/2,c.height/2),f=[],g=new cc.Sprite(res.GP_Background);g.setPosition(e),g.setScale(1);var h=new cc.delayTime(.2),i=new cc.ScaleTo(.2,1.1),j=new cc.ScaleTo(.2,1),k=new cc.Sequence.create(h,i,j);if(g.runAction(k),g.setOpacity(255),d.addChild(g,1690,"GenericBackgroundSprite"),f.push(g),1==a.referee)var l=new cc.Sprite(res.GP_Referee1);else if(2==a.referee)var l=new cc.Sprite(res.GP_Referee2);else var l=new cc.Sprite(res.GP_Referee3);l.setPosition(cc.p(c.width/2+200,c.height/2+40)),l.setScale(.01);var m=new cc.ScaleTo(.2,1),n=new cc.DelayTime(.5),o=new cc.Sequence.create(n,m);l.runAction(o,1),d.addChild(l,1710,"Referee"),f.push(l);var p=new cc.LabelTTF.create(a.messageTitle,"MontserratBold",46);p.setColor(cc.color.RED),p.setPosition(cc.p(c.width/2-120,320)),p.setOpacity(0);var q=new cc.delayTime(1),r=new cc.FadeIn.create(.01),s=new cc.Sequence.create(q,r);p.runAction(s),d.addChild(p,1715,"MessageTitleLabel"),f.push(p);var t=new cc.LabelTTF.create(a.messageLine1,"MontserratBold",44);t.setColor(cc.color.BLACK),t.setPosition(cc.p(c.width/2-120,260)),t.setOpacity(0);var u=new cc.delayTime(1.4),v=new cc.FadeIn.create(.01),w=new cc.Sequence.create(u,v);t.runAction(w),d.addChild(t,1715,"actualMessageLabel1"),f.push(t);var x=new cc.LabelTTF.create(a.messageLine2,"MontserratBold",44);x.setColor(cc.color.BLACK),x.setPosition(cc.p(c.width/2-120,200)),x.setOpacity(0);var y=new cc.delayTime(1.4),z=new cc.FadeIn.create(.01),A=new cc.Sequence.create(y,z);x.runAction(A),d.addChild(x,1715,"actualMessageLabel2"),f.push(x),f.forEach(B),f.forEach(C)}});
